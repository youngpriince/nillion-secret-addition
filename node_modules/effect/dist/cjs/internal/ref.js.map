{"version":3,"file":"ref.js","names":["Effectable","_interopRequireWildcard","require","_Function","MutableRef","Option","Readable","core","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","RefTypeId","exports","Symbol","for","refVariance","_A","_","RefImpl","Class","ref","commit","TypeId","constructor","sync","modify","f","current","b","unsafeMake","value","make","self","dual","getAndSet","getAndUpdate","getAndUpdateSome","pf","option","_tag","setAndGet","modifySome","fallback","update","updateAndGet","result","updateSome","match","onNone","onSome","updateSomeAndGet","unsafeGet"],"sources":["../../../src/internal/ref.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}