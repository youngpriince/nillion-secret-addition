{"version":3,"file":"Layer.js","names":["Context","_interopRequireWildcard","require","_clock","core","defaultServices","fiberRuntime","internal","circularLayer","query","Scheduler","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","LayerTypeId","exports","MemoMapTypeId","isLayer","isFresh","annotateLogs","annotateSpans","build","buildWithScope","catchAll","catchAllCause","context","die","dieSync","discard","effect","fromEffect","effectDiscard","fromEffectDiscard","effectContext","fromEffectContext","empty","extendScope","fail","failSync","failCause","failCauseSync","flatMap","flatten","fresh","fromFunction","function","launch","map","mapError","match","matchCause","memoize","merge","mergeAll","orDie","orElse","passthrough","project","locallyEffect","locally","fiberRefLocally","locallyWith","fiberRefLocallyWith","locallyScoped","fiberRefLocallyScoped","fiberRefLocallyScopedWith","retry","scope","scoped","scopedDiscard","scopedContext","service","succeed","succeedContext","suspend","sync","syncContext","tap","tapError","tapErrorCause","toRuntime","toRuntimeWithMemoMap","provide","provideMerge","zipWith","unwrapEffect","unwrapScoped","setClock","clock","currentServices","add","clockTag","setConfigProvider","parentSpan","setRequestBatching","requestBatching","currentRequestBatching","setRequestCaching","requestCaching","currentCacheEnabled","setRequestCache","cache","isEffect","x","currentCache","setScheduler","scheduler","currentScheduler","span","setTracer","setTracerEnabled","enabled","currentTracerEnabled","setTracerTiming","currentTracerTimingEnabled","setUnhandledErrorLogLevel","level","currentUnhandledErrorLogLevel","withSpan","withParentSpan","makeMemoMap","buildWithMemoMap"],"sources":["../../src/Layer.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}