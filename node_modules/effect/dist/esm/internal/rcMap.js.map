{"version":3,"file":"rcMap.js","names":["Context","Duration","dual","identity","MutableHashMap","pipeArguments","coreEffect","core","circular","fiberRuntime","TypeId","Symbol","for","variance","_K","_A","_E","RcMapImpl","lookup","context","scope","idleTimeToLive","capacity","state","_tag","map","empty","semaphore","unsafeMakeSemaphore","constructor","pipe","arguments","make","options","withFiberRuntime","fiber","getFiberRef","currentContext","get","scopeTag","self","decode","undefined","Math","max","Number","POSITIVE_INFINITY","as","addFinalizer","suspend","void","forEachSequentialDiscard","entry","scopeClose","exitVoid","tap","clear","withPermits","self_","key","uninterruptibleMask","restore","interrupt","o","value","refCount","interruptFiber","succeed","isFinite","size","fail","ExceededCapacityException","acquire","scopeMake","bindTo","bind","deferredMake","deferred","fiberRefLocally","add","exit","flatMap","deferredDone","forkIn","set","remove","sleep","interruptible","zipRight","ensuring","sync","deferredAwait","keys","impl"],"sources":["../../../src/internal/rcMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}